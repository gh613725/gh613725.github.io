<!DOCTYPE html>
<meta charset="UTF-8">
<title>百度图片（极简版）</title>
<meta name="description" content="百度图片（极简版）">
<meta name="viewport" content="width=device-width,user-scalable=0">
<link rel="stylesheet" href="document.css">
<div id="el" ref="el" :data-runing="runing" v-cloak :data-image-length="images.length" :data-simple="simple" :data-animation="animation">
    <div class="welcome-box" v-else>
        <h1>百度图片（极简版）</h1>
    </div>
    <form @submit.stop.prevent="searchSubmit">
        <input type="search" v-model.lazy.trim="text" placeholder="">
    </form>
    <div class="images-box" ref="images-box" v-if="images.length" :style="{height:`${imagesHeight}px`}">
        <div class="image-item" v-for="image in images" :key="image.src" :style="{width:image._width+'px',top:image._top+'px',left:image._left+'px',color:`#${image.hex}`}">
            <a class="image-link" :href="image.ori" target="_blank" :style="{width:image._width+'px',height:image._height+'px'}">
                <img :src="image.src" :style="{width:image._width+'px',height:image._height+'px'}">
            </a>
            <a class="image-origin-link" :href="image.url" target="_blank">
                <span class="title">{{image.title}}</span>
                <span class="link">{{new URL(image.url).hostname.replace(/^www\./,'')}}</span>
            </a>
        </div>
    </div>
    <div class="welcome-box" v-else-if="runing">
        <h1>搜索中</h1>
    </div>
    <div class="page-box">
        <a @click.stop.prevent="prev" class="more-btn" v-if="index !== 0">上一页</a>
        <span v-if="images.length" class="page-number">{{index}} ~ {{index + images.length}}</span>
        <a @click.stop.prevent="next" class="more-btn" v-if="images.length === 30">下一页</a>
    </div>
    <footer>
        <p><label class="checkbox-text-switch"><input type="checkbox" v-model="simple"><span>开关来源</span></label></p>
    </footer>
</div>

<script src="/vue.2.6.11.min.js"></script>
<script src="document.js"></script>
